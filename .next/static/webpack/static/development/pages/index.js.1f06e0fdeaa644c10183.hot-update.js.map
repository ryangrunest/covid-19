{"version":3,"file":"static/webpack/static/development/pages/index.js.1f06e0fdeaa644c10183.hot-update.js","sources":["webpack:///./pages/index.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport Head from \"next/head\";\nimport { countries } from \"../countries.js\";\nimport { apiKey } from \"../apikey\";\nimport fetch from \"isomorphic-unfetch\";\n\nconst Index = props => {\n  const [selectedCountry, setSelectedCountry] = useState(\"Afghanistan\");\n  const [confirmed, setConfirmed] = useState(0);\n  const [recovered, setRecovered] = useState(0);\n  const [deaths, setDeaths] = useState(0);\n\n  async function handleChange(event) {\n    let data = await getCountryData(event.target.value);\n    data = data[0];\n    setSelectedCountry(data.country);\n    setConfirmed(data.confirmed);\n    setRecovered(data.recovered);\n    setDeaths(data.deaths);\n  }\n\n  async function getCountryData(country) {\n    return fetch(\n      `https://covid-19-data.p.rapidapi.com/country?name=${country}`,\n      {\n        method: \"GET\",\n        headers: { \"X-RapidAPI-Key\": apiKey }\n      }\n    ).then(res => res.json());\n  }\n\n  return (\n    <main className=\"Index\">\n      <select\n        onChange={handleChange}\n        name=\"countries\"\n        className=\"countries-dropdown\"\n      >\n        {countries.map(country => {\n          return (\n            <option key={country} value={country}>\n              {country}\n            </option>\n          );\n        })}\n      </select>\n\n      <p>{selectedCountry}</p>\n      <p>{confirmed}</p>\n      <p>{recovered}</p>\n      <p>{deaths}</p>\n    </main>\n  );\n};\n\nexport default Index;\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AAKA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAPA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAQA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AACA;AAAA;AAAA;AAFA;AAIA;AAAA;AACA;AARA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AASA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AAHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;;;;A","sourceRoot":""}